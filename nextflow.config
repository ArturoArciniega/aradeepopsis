/*
 * -------------------------------------------------
 *  aradeepopsis Nextflow config file
 * -------------------------------------------------
 * Default config options for all environments.
 */

params.leaf_classes = 3
params.multiscale = false
params.outdir = "./results"
params.chunksize = 10
params.save_overlay = true
params.save_mask = true
params.save_original = true
params.save_rosette = false
params.save_hull = false
params.save_histogram = false
params.polaroid = false

includeConfig 'conf/base.config'

profiles {
  local { process.executor = 'local' }
  cbe { includeConfig 'conf/cbe.config' }
  singularity { singularity.enabled = true }
  docker {docker.enabled = true}
  conda { process.conda = "$baseDir/environment.yml" }
  test { includeConfig 'conf/test.config' }
}

manifest {
    homePage = 'https://github.com/Gregor-Mendel-Institute/aradeepopsis'
    description = "Nextflow pipeline to run semantic segmentation on plant rosette images with deepLab V3+"
    name = 'aradeepopsis'
    version = '0.1'
    mainScript = 'main.nf'
    nextflowVersion = '>=19.10.0'
}

timeline {
  enabled = true
  file = "${params.outdir}/execution_timeline.html"
}
report {
  enabled = true
  file = "${params.outdir}/execution_report.html"
}
trace {
  enabled = true
  file = "${params.outdir}/execution_trace.txt"
}
dag {
  enabled = true
  file = "${params.outdir}/pipeline_dag.svg"
}
